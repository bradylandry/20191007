---
- name: Playbook to backup config
  hosts: eosswitches
  gather_facts: no  ## <--- make this yes later on so we can get date / time info
  connection: network_cli

  tasks: 
  - name: gather fact on eos switch
    eos_facts:
            gather_subset: all
    become: yes

  - name: create a directory for backing up configs
    file:
            path: ~/ans/backup/
            state: directory

  - name: what the heck is in ansible_facts
    debug:
            var: ansible_facts
            verbosity: 1

  - name: Use copy to evac info from playbook to controller
    copy:
            dest: "~/ans/backup/{{ inventory_hostname }}.bkup"
            content: "{{ ansible_facts.net_config }}"

